/* Auto generated from C:\CSSPTools\src\codegen\_package\netcoreapp3.1\ServicesClassNameServiceTestGenerated.exe
 *
 * Do not edit this file.
 *
 */ 

using CSSPEnums;
using CSSPModels;
using CSSPCultureServices.Services;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using Microsoft.Extensions.Configuration;
using Microsoft.Extensions.DependencyInjection;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Threading.Tasks;
using System.Transactions;
using Xunit;
using System.ComponentModel.DataAnnotations;
using CSSPCultureServices.Resources;
using LocalServices;

namespace CSSPDBLocalServices.Tests
{
    public partial class FillCSSPDBLocalTest
    {
        #region Variables
        #endregion Variables

        #region Properties
        private IConfiguration Config { get; set; }
        private IServiceProvider Provider { get; set; }
        private IServiceCollection Services { get; set; }
        private ICSSPCultureService CSSPCultureService { get; set; }
        private ILocalService LocalService { get; set; }
        private IAddressDBLocalService AddressDBLocalService { get; set; }
        private CSSPDBLocalContext dbLocal { get; set; }
        private CSSPDBContext dbTest { get; set; }
        private Address address { get; set; }
        #endregion Properties

        #region Constructors
        public FillCSSPDBLocalTest() : base()
        {

        }
        #endregion Constructors

        #region Tests 
        [Theory]
        [InlineData("en-CA")]
        //[InlineData("fr-CA")]
        public async Task FillCSSPDBLocalWithCSSPDBTest_Good_Test(string culture)
        {
            Assert.True(await Setup(culture));

            // add a comment in front of the return to populate CSSPDBLocal with CSSPDBTest information
            bool a = true;
            if (a)
            {
                return;
            }

            // Logs
            List<Log> LogList = (from c in dbLocal.Logs select c).ToList();
            dbLocal.RemoveRange(LogList);
            dbLocal.SaveChanges();
            LogList = (from c in dbTest.Logs select c).ToList();
            dbLocal.AddRange(LogList);
            dbLocal.SaveChanges();

            // RainExceedanceClimateSites
            List<RainExceedanceClimateSite> RainExceedanceClimateSiteList = (from c in dbLocal.RainExceedanceClimateSites select c).ToList();
            dbLocal.RemoveRange(RainExceedanceClimateSiteList);
            dbLocal.SaveChanges();
            RainExceedanceClimateSiteList = (from c in dbTest.RainExceedanceClimateSites select c).ToList();
            dbLocal.AddRange(RainExceedanceClimateSiteList);
            dbLocal.SaveChanges();

            // RainExceedances
            List<RainExceedance> RainExceedanceList = (from c in dbLocal.RainExceedances select c).ToList();
            dbLocal.RemoveRange(RainExceedanceList);
            dbLocal.SaveChanges();
            RainExceedanceList = (from c in dbTest.RainExceedances select c).ToList();
            dbLocal.AddRange(RainExceedanceList);
            dbLocal.SaveChanges();

            // EmailDistributionListContactLanguages
            List<EmailDistributionListContactLanguage> EmailDistributionListContactLanguageList = (from c in dbLocal.EmailDistributionListContactLanguages select c).ToList();
            dbLocal.RemoveRange(EmailDistributionListContactLanguageList);
            dbLocal.SaveChanges();
            EmailDistributionListContactLanguageList = (from c in dbTest.EmailDistributionListContactLanguages select c).ToList();
            dbLocal.AddRange(EmailDistributionListContactLanguageList);
            dbLocal.SaveChanges();

            // EmailDistributionListContacts
            List<EmailDistributionListContact> EmailDistributionListContactList = (from c in dbLocal.EmailDistributionListContacts select c).ToList();
            dbLocal.RemoveRange(EmailDistributionListContactList);
            dbLocal.SaveChanges();
            EmailDistributionListContactList = (from c in dbTest.EmailDistributionListContacts select c).ToList();
            dbLocal.AddRange(EmailDistributionListContactList);
            dbLocal.SaveChanges();

            // EmailDistributionListLanguages
            List<EmailDistributionListLanguage> EmailDistributionListLanguageList = (from c in dbLocal.EmailDistributionListLanguages select c).ToList();
            dbLocal.RemoveRange(EmailDistributionListLanguageList);
            dbLocal.SaveChanges();
            EmailDistributionListLanguageList = (from c in dbTest.EmailDistributionListLanguages select c).ToList();
            dbLocal.AddRange(EmailDistributionListLanguageList);
            dbLocal.SaveChanges();

            // EmailDistributionLists
            List<EmailDistributionList> EmailDistributionListList = (from c in dbLocal.EmailDistributionLists select c).ToList();
            dbLocal.RemoveRange(EmailDistributionListList);
            dbLocal.SaveChanges();
            EmailDistributionListList = (from c in dbTest.EmailDistributionLists select c).ToList();
            dbLocal.AddRange(EmailDistributionListList);
            dbLocal.SaveChanges();

            // AppErrLogs
            List<AppErrLog> AppErrLogList = (from c in dbLocal.AppErrLogs select c).ToList();
            dbLocal.RemoveRange(AppErrLogList);
            dbLocal.SaveChanges();
            AppErrLogList = (from c in dbTest.AppErrLogs select c).ToList();
            dbLocal.AddRange(AppErrLogList);
            dbLocal.SaveChanges();

            // AppTasks
            List<AppTask> AppTaskList = (from c in dbLocal.AppTasks select c).ToList();
            dbLocal.RemoveRange(AppTaskList);
            dbLocal.SaveChanges();
            AppTaskList = (from c in dbTest.AppTasks select c).ToList();
            dbLocal.AddRange(AppTaskList);
            dbLocal.SaveChanges();

            // BoxModelLanguages
            List<BoxModelLanguage> BoxModelLanguageList = (from c in dbLocal.BoxModelLanguages select c).ToList();
            dbLocal.RemoveRange(BoxModelLanguageList);
            dbLocal.SaveChanges();
            BoxModelLanguageList = (from c in dbTest.BoxModelLanguages select c).ToList();
            dbLocal.AddRange(BoxModelLanguageList);
            dbLocal.SaveChanges();

            // BoxModelResults
            List<BoxModelResult> BoxModelResultList = (from c in dbLocal.BoxModelResults select c).ToList();
            dbLocal.RemoveRange(BoxModelResultList);
            dbLocal.SaveChanges();
            BoxModelResultList = (from c in dbTest.BoxModelResults select c).ToList();
            dbLocal.AddRange(BoxModelResultList);
            dbLocal.SaveChanges();

            // BoxModels
            List<BoxModel> BoxModelList = (from c in dbLocal.BoxModels select c).ToList();
            dbLocal.RemoveRange(BoxModelList);
            dbLocal.SaveChanges();
            BoxModelList = (from c in dbTest.BoxModels select c).ToList();
            dbLocal.AddRange(BoxModelList);
            dbLocal.SaveChanges();

            // UseOfSites
            List<UseOfSite> UseOfSiteList = (from c in dbLocal.UseOfSites select c).ToList();
            dbLocal.RemoveRange(UseOfSiteList);
            dbLocal.SaveChanges();
            UseOfSiteList = (from c in dbTest.UseOfSites select c).ToList();
            dbLocal.AddRange(UseOfSiteList);
            dbLocal.SaveChanges();

            // PolSourceSiteEffectTerms
            List<PolSourceSiteEffectTerm> PolSourceSiteEffectTermList = (from c in dbLocal.PolSourceSiteEffectTerms select c).ToList();
            dbLocal.RemoveRange(PolSourceSiteEffectTermList);
            dbLocal.SaveChanges();
            PolSourceSiteEffectTermList = (from c in dbTest.PolSourceSiteEffectTerms select c).ToList();
            dbLocal.AddRange(PolSourceSiteEffectTermList);
            dbLocal.SaveChanges();

            // PolSourceSiteEffects
            List<PolSourceSiteEffect> PolSourceSiteEffectList = (from c in dbLocal.PolSourceSiteEffects select c).ToList();
            dbLocal.RemoveRange(PolSourceSiteEffectList);
            dbLocal.SaveChanges();
            PolSourceSiteEffectList = (from c in dbTest.PolSourceSiteEffects select c).ToList();
            dbLocal.AddRange(PolSourceSiteEffectList);
            dbLocal.SaveChanges();

            // Classifications
            List<Classification> ClassificationList = (from c in dbLocal.Classifications select c).ToList();
            dbLocal.RemoveRange(ClassificationList);
            dbLocal.SaveChanges();
            ClassificationList = (from c in dbTest.Classifications select c).ToList();
            dbLocal.AddRange(ClassificationList);
            dbLocal.SaveChanges();

            // ClimateDataValues
            List<ClimateDataValue> ClimateDataValueList = (from c in dbLocal.ClimateDataValues select c).ToList();
            dbLocal.RemoveRange(ClimateDataValueList);
            dbLocal.SaveChanges();
            ClimateDataValueList = (from c in dbTest.ClimateDataValues select c).ToList();
            dbLocal.AddRange(ClimateDataValueList);
            dbLocal.SaveChanges();

            // ClimateSites
            List<ClimateSite> ClimateSiteList = (from c in dbLocal.ClimateSites select c).ToList();
            dbLocal.RemoveRange(ClimateSiteList);
            dbLocal.SaveChanges();
            ClimateSiteList = (from c in dbTest.ClimateSites select c).ToList();
            dbLocal.AddRange(ClimateSiteList);
            dbLocal.SaveChanges();

            // DocTemplates
            List<DocTemplate> DocTemplateList = (from c in dbLocal.DocTemplates select c).ToList();
            dbLocal.RemoveRange(DocTemplateList);
            dbLocal.SaveChanges();
            DocTemplateList = (from c in dbTest.DocTemplates select c).ToList();
            dbLocal.AddRange(DocTemplateList);
            dbLocal.SaveChanges();

            // Addresses
            List<Address> AddresseList = (from c in dbLocal.Addresses select c).ToList();
            dbLocal.RemoveRange(AddresseList);
            dbLocal.SaveChanges();
            AddresseList = (from c in dbTest.Addresses select c).ToList();
            dbLocal.AddRange(AddresseList);
            dbLocal.SaveChanges();

            // DrogueRuns
            List<DrogueRun> DrogueRunList = (from c in dbLocal.DrogueRuns select c).ToList();
            dbLocal.RemoveRange(DrogueRunList);
            dbLocal.SaveChanges();
            DrogueRunList = (from c in dbTest.DrogueRuns select c).ToList();
            dbLocal.AddRange(DrogueRunList);
            dbLocal.SaveChanges();

            // DrogueRunPositions
            List<DrogueRunPosition> DrogueRunPositionList = (from c in dbLocal.DrogueRunPositions select c).ToList();
            dbLocal.RemoveRange(DrogueRunPositionList);
            dbLocal.SaveChanges();
            DrogueRunPositionList = (from c in dbTest.DrogueRunPositions select c).ToList();
            dbLocal.AddRange(DrogueRunPositionList);
            dbLocal.SaveChanges();

            // Emails
            List<Email> EmailList = (from c in dbLocal.Emails select c).ToList();
            dbLocal.RemoveRange(EmailList);
            dbLocal.SaveChanges();
            EmailList = (from c in dbTest.Emails select c).ToList();
            dbLocal.AddRange(EmailList);
            dbLocal.SaveChanges();

            // HelpDocs
            List<HelpDoc> HelpDocList = (from c in dbLocal.HelpDocs select c).ToList();
            dbLocal.RemoveRange(HelpDocList);
            dbLocal.SaveChanges();
            HelpDocList = (from c in dbTest.HelpDocs select c).ToList();
            dbLocal.AddRange(HelpDocList);
            dbLocal.SaveChanges();

            // Tels
            List<Tel> TelList = (from c in dbLocal.Tels select c).ToList();
            dbLocal.RemoveRange(TelList);
            dbLocal.SaveChanges();
            TelList = (from c in dbTest.Tels select c).ToList();
            dbLocal.AddRange(TelList);
            dbLocal.SaveChanges();

            // RatingCurves
            List<RatingCurve> RatingCurveList = (from c in dbLocal.RatingCurves select c).ToList();
            dbLocal.RemoveRange(RatingCurveList);
            dbLocal.SaveChanges();
            RatingCurveList = (from c in dbTest.RatingCurves select c).ToList();
            dbLocal.AddRange(RatingCurveList);
            dbLocal.SaveChanges();

            // RatingCurveValues
            List<RatingCurveValue> RatingCurveValueList = (from c in dbLocal.RatingCurveValues select c).ToList();
            dbLocal.RemoveRange(RatingCurveValueList);
            dbLocal.SaveChanges();
            RatingCurveValueList = (from c in dbTest.RatingCurveValues select c).ToList();
            dbLocal.AddRange(RatingCurveValueList);
            dbLocal.SaveChanges();

            // HydrometricDataValues
            List<HydrometricDataValue> HydrometricDataValueList = (from c in dbLocal.HydrometricDataValues select c).ToList();
            dbLocal.RemoveRange(HydrometricDataValueList);
            dbLocal.SaveChanges();
            HydrometricDataValueList = (from c in dbTest.HydrometricDataValues select c).ToList();
            dbLocal.AddRange(HydrometricDataValueList);
            dbLocal.SaveChanges();

            // HydrometricSites
            List<HydrometricSite> HydrometricSiteList = (from c in dbLocal.HydrometricSites select c).ToList();
            dbLocal.RemoveRange(HydrometricSiteList);
            dbLocal.SaveChanges();
            HydrometricSiteList = (from c in dbTest.HydrometricSites select c).ToList();
            dbLocal.AddRange(HydrometricSiteList);
            dbLocal.SaveChanges();

            // InfrastructureLanguages
            List<InfrastructureLanguage> InfrastructureLanguageList = (from c in dbLocal.InfrastructureLanguages select c).ToList();
            dbLocal.RemoveRange(InfrastructureLanguageList);
            dbLocal.SaveChanges();
            InfrastructureLanguageList = (from c in dbTest.InfrastructureLanguages select c).ToList();
            dbLocal.AddRange(InfrastructureLanguageList);
            dbLocal.SaveChanges();

            // Infrastructures
            List<Infrastructure> InfrastructureList = (from c in dbLocal.Infrastructures select c).ToList();
            dbLocal.RemoveRange(InfrastructureList);
            dbLocal.SaveChanges();
            InfrastructureList = (from c in dbTest.Infrastructures select c).ToList();
            dbLocal.AddRange(InfrastructureList);
            dbLocal.SaveChanges();

            // LabSheetTubeMPNDetails
            List<LabSheetTubeMPNDetail> LabSheetTubeMPNDetailList = (from c in dbLocal.LabSheetTubeMPNDetails select c).ToList();
            dbLocal.RemoveRange(LabSheetTubeMPNDetailList);
            dbLocal.SaveChanges();
            LabSheetTubeMPNDetailList = (from c in dbTest.LabSheetTubeMPNDetails select c).ToList();
            dbLocal.AddRange(LabSheetTubeMPNDetailList);
            dbLocal.SaveChanges();

            // LabSheetDetails
            List<LabSheetDetail> LabSheetDetailList = (from c in dbLocal.LabSheetDetails select c).ToList();
            dbLocal.RemoveRange(LabSheetDetailList);
            dbLocal.SaveChanges();
            LabSheetDetailList = (from c in dbTest.LabSheetDetails select c).ToList();
            dbLocal.AddRange(LabSheetDetailList);
            dbLocal.SaveChanges();

            // LabSheets
            List<LabSheet> LabSheetList = (from c in dbLocal.LabSheets select c).ToList();
            dbLocal.RemoveRange(LabSheetList);
            dbLocal.SaveChanges();
            LabSheetList = (from c in dbTest.LabSheets select c).ToList();
            dbLocal.AddRange(LabSheetList);
            dbLocal.SaveChanges();

            // MapInfoPoints
            List<MapInfoPoint> MapInfoPointList = (from c in dbLocal.MapInfoPoints select c).ToList();
            dbLocal.RemoveRange(MapInfoPointList);
            dbLocal.SaveChanges();
            MapInfoPointList = (from c in dbTest.MapInfoPoints select c).ToList();
            dbLocal.AddRange(MapInfoPointList);
            dbLocal.SaveChanges();

            // MapInfos
            List<MapInfo> MapInfoList = (from c in dbLocal.MapInfos select c).ToList();
            dbLocal.RemoveRange(MapInfoList);
            dbLocal.SaveChanges();
            MapInfoList = (from c in dbTest.MapInfos select c).ToList();
            dbLocal.AddRange(MapInfoList);
            dbLocal.SaveChanges();

            // MikeBoundaryConditions
            List<MikeBoundaryCondition> MikeBoundaryConditionList = (from c in dbLocal.MikeBoundaryConditions select c).ToList();
            dbLocal.RemoveRange(MikeBoundaryConditionList);
            dbLocal.SaveChanges();
            MikeBoundaryConditionList = (from c in dbTest.MikeBoundaryConditions select c).ToList();
            dbLocal.AddRange(MikeBoundaryConditionList);
            dbLocal.SaveChanges();

            // MikeSources
            List<MikeSource> MikeSourceList = (from c in dbLocal.MikeSources select c).ToList();
            dbLocal.RemoveRange(MikeSourceList);
            dbLocal.SaveChanges();
            MikeSourceList = (from c in dbTest.MikeSources select c).ToList();
            dbLocal.AddRange(MikeSourceList);
            dbLocal.SaveChanges();

            // MikeSourceStartEnds
            List<MikeSourceStartEnd> MikeSourceStartEndList = (from c in dbLocal.MikeSourceStartEnds select c).ToList();
            dbLocal.RemoveRange(MikeSourceStartEndList);
            dbLocal.SaveChanges();
            MikeSourceStartEndList = (from c in dbTest.MikeSourceStartEnds select c).ToList();
            dbLocal.AddRange(MikeSourceStartEndList);
            dbLocal.SaveChanges();

            // MWQMAnalysisReportParameters
            List<MWQMAnalysisReportParameter> MWQMAnalysisReportParameterList = (from c in dbLocal.MWQMAnalysisReportParameters select c).ToList();
            dbLocal.RemoveRange(MWQMAnalysisReportParameterList);
            dbLocal.SaveChanges();
            MWQMAnalysisReportParameterList = (from c in dbTest.MWQMAnalysisReportParameters select c).ToList();
            dbLocal.AddRange(MWQMAnalysisReportParameterList);
            dbLocal.SaveChanges();

            // MWQMLookupMPNs
            List<MWQMLookupMPN> MWQMLookupMPNList = (from c in dbLocal.MWQMLookupMPNs select c).ToList();
            dbLocal.RemoveRange(MWQMLookupMPNList);
            dbLocal.SaveChanges();
            MWQMLookupMPNList = (from c in dbTest.MWQMLookupMPNs select c).ToList();
            dbLocal.AddRange(MWQMLookupMPNList);
            dbLocal.SaveChanges();

            // SamplingPlanEmails
            List<SamplingPlanEmail> SamplingPlanEmailList = (from c in dbLocal.SamplingPlanEmails select c).ToList();
            dbLocal.RemoveRange(SamplingPlanEmailList);
            dbLocal.SaveChanges();
            SamplingPlanEmailList = (from c in dbTest.SamplingPlanEmails select c).ToList();
            dbLocal.AddRange(SamplingPlanEmailList);
            dbLocal.SaveChanges();

            // SamplingPlans
            List<SamplingPlan> SamplingPlanList = (from c in dbLocal.SamplingPlans select c).ToList();
            dbLocal.RemoveRange(SamplingPlanList);
            dbLocal.SaveChanges();
            SamplingPlanList = (from c in dbTest.SamplingPlans select c).ToList();
            dbLocal.AddRange(SamplingPlanList);
            dbLocal.SaveChanges();

            // SamplingPlanSubsectors
            List<SamplingPlanSubsector> SamplingPlanSubsectorList = (from c in dbLocal.SamplingPlanSubsectors select c).ToList();
            dbLocal.RemoveRange(SamplingPlanSubsectorList);
            dbLocal.SaveChanges();
            SamplingPlanSubsectorList = (from c in dbTest.SamplingPlanSubsectors select c).ToList();
            dbLocal.AddRange(SamplingPlanSubsectorList);
            dbLocal.SaveChanges();

            // SamplingPlanSubsectorSites
            List<SamplingPlanSubsectorSite> SamplingPlanSubsectorSiteList = (from c in dbLocal.SamplingPlanSubsectorSites select c).ToList();
            dbLocal.RemoveRange(SamplingPlanSubsectorSiteList);
            dbLocal.SaveChanges();
            SamplingPlanSubsectorSiteList = (from c in dbTest.SamplingPlanSubsectorSites select c).ToList();
            dbLocal.AddRange(SamplingPlanSubsectorSiteList);
            dbLocal.SaveChanges();

            // MWQMRunLanguages
            List<MWQMRunLanguage> MWQMRunLanguageList = (from c in dbLocal.MWQMRunLanguages select c).ToList();
            dbLocal.RemoveRange(MWQMRunLanguageList);
            dbLocal.SaveChanges();
            MWQMRunLanguageList = (from c in dbTest.MWQMRunLanguages select c).ToList();
            dbLocal.AddRange(MWQMRunLanguageList);
            dbLocal.SaveChanges();

            // MWQMRuns
            List<MWQMRun> MWQMRunList = (from c in dbLocal.MWQMRuns select c).ToList();
            dbLocal.RemoveRange(MWQMRunList);
            dbLocal.SaveChanges();
            MWQMRunList = (from c in dbTest.MWQMRuns select c).ToList();
            dbLocal.AddRange(MWQMRunList);
            dbLocal.SaveChanges();

            // MWQMSampleLanguages
            List<MWQMSampleLanguage> MWQMSampleLanguageList = (from c in dbLocal.MWQMSampleLanguages select c).ToList();
            dbLocal.RemoveRange(MWQMSampleLanguageList);
            dbLocal.SaveChanges();
            MWQMSampleLanguageList = (from c in dbTest.MWQMSampleLanguages select c).ToList();
            dbLocal.AddRange(MWQMSampleLanguageList);
            dbLocal.SaveChanges();

            // MWQMSamples
            List<MWQMSample> MWQMSampleList = (from c in dbLocal.MWQMSamples select c).ToList();
            dbLocal.RemoveRange(MWQMSampleList);
            dbLocal.SaveChanges();
            MWQMSampleList = (from c in dbTest.MWQMSamples select c).ToList();
            dbLocal.AddRange(MWQMSampleList);
            dbLocal.SaveChanges();

            // MWQMSiteStartEndDates
            List<MWQMSiteStartEndDate> MWQMSiteStartEndDateList = (from c in dbLocal.MWQMSiteStartEndDates select c).ToList();
            dbLocal.RemoveRange(MWQMSiteStartEndDateList);
            dbLocal.SaveChanges();
            MWQMSiteStartEndDateList = (from c in dbTest.MWQMSiteStartEndDates select c).ToList();
            dbLocal.AddRange(MWQMSiteStartEndDateList);
            dbLocal.SaveChanges();

            // MWQMSites
            List<MWQMSite> MWQMSiteList = (from c in dbLocal.MWQMSites select c).ToList();
            dbLocal.RemoveRange(MWQMSiteList);
            dbLocal.SaveChanges();
            MWQMSiteList = (from c in dbTest.MWQMSites select c).ToList();
            dbLocal.AddRange(MWQMSiteList);
            dbLocal.SaveChanges();

            // MWQMSubsectorLanguages
            List<MWQMSubsectorLanguage> MWQMSubsectorLanguageList = (from c in dbLocal.MWQMSubsectorLanguages select c).ToList();
            dbLocal.RemoveRange(MWQMSubsectorLanguageList);
            dbLocal.SaveChanges();
            MWQMSubsectorLanguageList = (from c in dbTest.MWQMSubsectorLanguages select c).ToList();
            dbLocal.AddRange(MWQMSubsectorLanguageList);
            dbLocal.SaveChanges();

            // MWQMSubsectors
            List<MWQMSubsector> MWQMSubsectorList = (from c in dbLocal.MWQMSubsectors select c).ToList();
            dbLocal.RemoveRange(MWQMSubsectorList);
            dbLocal.SaveChanges();
            MWQMSubsectorList = (from c in dbTest.MWQMSubsectors select c).ToList();
            dbLocal.AddRange(MWQMSubsectorList);
            dbLocal.SaveChanges();

            // PolSourceObservationIssues
            List<PolSourceObservationIssue> PolSourceObservationIssueList = (from c in dbLocal.PolSourceObservationIssues select c).ToList();
            dbLocal.RemoveRange(PolSourceObservationIssueList);
            dbLocal.SaveChanges();
            PolSourceObservationIssueList = (from c in dbTest.PolSourceObservationIssues select c).ToList();
            dbLocal.AddRange(PolSourceObservationIssueList);
            dbLocal.SaveChanges();

            // PolSourceObservations
            List<PolSourceObservation> PolSourceObservationList = (from c in dbLocal.PolSourceObservations select c).ToList();
            dbLocal.RemoveRange(PolSourceObservationList);
            dbLocal.SaveChanges();
            PolSourceObservationList = (from c in dbTest.PolSourceObservations select c).ToList();
            dbLocal.AddRange(PolSourceObservationList);
            dbLocal.SaveChanges();

            // PolSourceSites
            List<PolSourceSite> PolSourceSiteList = (from c in dbLocal.PolSourceSites select c).ToList();
            dbLocal.RemoveRange(PolSourceSiteList);
            dbLocal.SaveChanges();
            PolSourceSiteList = (from c in dbTest.PolSourceSites select c).ToList();
            dbLocal.AddRange(PolSourceSiteList);
            dbLocal.SaveChanges();

            // PolSourceGroupingLanguages
            List<PolSourceGroupingLanguage> PolSourceGroupingLanguageList = (from c in dbLocal.PolSourceGroupingLanguages select c).ToList();
            dbLocal.RemoveRange(PolSourceGroupingLanguageList);
            dbLocal.SaveChanges();
            PolSourceGroupingLanguageList = (from c in dbTest.PolSourceGroupingLanguages select c).ToList();
            dbLocal.AddRange(PolSourceGroupingLanguageList);
            dbLocal.SaveChanges();

            // PolSourceGroupings
            List<PolSourceGrouping> PolSourceGroupingList = (from c in dbLocal.PolSourceGroupings select c).ToList();
            dbLocal.RemoveRange(PolSourceGroupingList);
            dbLocal.SaveChanges();
            PolSourceGroupingList = (from c in dbTest.PolSourceGroupings select c).ToList();
            dbLocal.AddRange(PolSourceGroupingList);
            dbLocal.SaveChanges();

            // ResetPasswords
            List<ResetPassword> ResetPasswordList = (from c in dbLocal.ResetPasswords select c).ToList();
            dbLocal.RemoveRange(ResetPasswordList);
            dbLocal.SaveChanges();
            ResetPasswordList = (from c in dbTest.ResetPasswords select c).ToList();
            dbLocal.AddRange(ResetPasswordList);
            dbLocal.SaveChanges();

            // SpillLanguages
            List<SpillLanguage> SpillLanguageList = (from c in dbLocal.SpillLanguages select c).ToList();
            dbLocal.RemoveRange(SpillLanguageList);
            dbLocal.SaveChanges();
            SpillLanguageList = (from c in dbTest.SpillLanguages select c).ToList();
            dbLocal.AddRange(SpillLanguageList);
            dbLocal.SaveChanges();

            // Spills
            List<Spill> SpillList = (from c in dbLocal.Spills select c).ToList();
            dbLocal.RemoveRange(SpillList);
            dbLocal.SaveChanges();
            SpillList = (from c in dbTest.Spills select c).ToList();
            dbLocal.AddRange(SpillList);
            dbLocal.SaveChanges();

            // TideDataValues
            List<TideDataValue> TideDataValueList = (from c in dbLocal.TideDataValues select c).ToList();
            dbLocal.RemoveRange(TideDataValueList);
            dbLocal.SaveChanges();
            TideDataValueList = (from c in dbTest.TideDataValues select c).ToList();
            dbLocal.AddRange(TideDataValueList);
            dbLocal.SaveChanges();

            // TideLocations
            List<TideLocation> TideLocationList = (from c in dbLocal.TideLocations select c).ToList();
            dbLocal.RemoveRange(TideLocationList);
            dbLocal.SaveChanges();
            TideLocationList = (from c in dbTest.TideLocations select c).ToList();
            dbLocal.AddRange(TideLocationList);
            dbLocal.SaveChanges();

            // TideSites
            List<TideSite> TideSiteList = (from c in dbLocal.TideSites select c).ToList();
            dbLocal.RemoveRange(TideSiteList);
            dbLocal.SaveChanges();
            TideSiteList = (from c in dbTest.TideSites select c).ToList();
            dbLocal.AddRange(TideSiteList);
            dbLocal.SaveChanges();

            // TVFileLanguages
            List<TVFileLanguage> TVFileLanguageList = (from c in dbLocal.TVFileLanguages select c).ToList();
            dbLocal.RemoveRange(TVFileLanguageList);
            dbLocal.SaveChanges();
            TVFileLanguageList = (from c in dbTest.TVFileLanguages select c).ToList();
            dbLocal.AddRange(TVFileLanguageList);
            dbLocal.SaveChanges();

            // TVFiles
            List<TVFile> TVFileList = (from c in dbLocal.TVFiles select c).ToList();
            dbLocal.RemoveRange(TVFileList);
            dbLocal.SaveChanges();
            TVFileList = (from c in dbTest.TVFiles select c).ToList();
            dbLocal.AddRange(TVFileList);
            dbLocal.SaveChanges();

            // ReportSections
            List<ReportSection> ReportSectionList = (from c in dbLocal.ReportSections select c).ToList();
            dbLocal.RemoveRange(ReportSectionList);
            dbLocal.SaveChanges();
            ReportSectionList = (from c in dbTest.ReportSections select c).ToList();
            dbLocal.AddRange(ReportSectionList);
            dbLocal.SaveChanges();

            // ReportTypes
            List<ReportType> ReportTypeList = (from c in dbLocal.ReportTypes select c).ToList();
            dbLocal.RemoveRange(ReportTypeList);
            dbLocal.SaveChanges();
            ReportTypeList = (from c in dbTest.ReportTypes select c).ToList();
            dbLocal.AddRange(ReportTypeList);
            dbLocal.SaveChanges();

            // TVItemLanguages
            List<TVItemLanguage> TVItemLanguageList = (from c in dbLocal.TVItemLanguages select c).ToList();
            dbLocal.RemoveRange(TVItemLanguageList);
            dbLocal.SaveChanges();
            TVItemLanguageList = (from c in dbTest.TVItemLanguages select c).ToList();
            dbLocal.AddRange(TVItemLanguageList);
            dbLocal.SaveChanges();

            // TVItemLinks
            List<TVItemLink> TVItemLinkList = (from c in dbLocal.TVItemLinks select c).ToList();
            dbLocal.RemoveRange(TVItemLinkList);
            dbLocal.SaveChanges();
            TVItemLinkList = (from c in dbTest.TVItemLinks select c).ToList();
            dbLocal.AddRange(TVItemLinkList);
            dbLocal.SaveChanges();

            // TVItemUserAuthorizations
            List<TVItemUserAuthorization> TVItemUserAuthorizationList = (from c in dbLocal.TVItemUserAuthorizations select c).ToList();
            dbLocal.RemoveRange(TVItemUserAuthorizationList);
            dbLocal.SaveChanges();
            TVItemUserAuthorizationList = (from c in dbTest.TVItemUserAuthorizations select c).ToList();
            dbLocal.AddRange(TVItemUserAuthorizationList);
            dbLocal.SaveChanges();

            // TVTypeUserAuthorizations
            List<TVTypeUserAuthorization> TVTypeUserAuthorizationList = (from c in dbLocal.TVTypeUserAuthorizations select c).ToList();
            dbLocal.RemoveRange(TVTypeUserAuthorizationList);
            dbLocal.SaveChanges();
            TVTypeUserAuthorizationList = (from c in dbTest.TVTypeUserAuthorizations select c).ToList();
            dbLocal.AddRange(TVTypeUserAuthorizationList);
            dbLocal.SaveChanges();

            // VPAmbients
            List<VPAmbient> VPAmbientList = (from c in dbLocal.VPAmbients select c).ToList();
            dbLocal.RemoveRange(VPAmbientList);
            dbLocal.SaveChanges();
            VPAmbientList = (from c in dbTest.VPAmbients select c).ToList();
            dbLocal.AddRange(VPAmbientList);
            dbLocal.SaveChanges();

            // VPResults
            List<VPResult> VPResultList = (from c in dbLocal.VPResults select c).ToList();
            dbLocal.RemoveRange(VPResultList);
            dbLocal.SaveChanges();
            VPResultList = (from c in dbTest.VPResults select c).ToList();
            dbLocal.AddRange(VPResultList);
            dbLocal.SaveChanges();

            // VPScenarioLanguages
            List<VPScenarioLanguage> VPScenarioLanguageList = (from c in dbLocal.VPScenarioLanguages select c).ToList();
            dbLocal.RemoveRange(VPScenarioLanguageList);
            dbLocal.SaveChanges();
            VPScenarioLanguageList = (from c in dbTest.VPScenarioLanguages select c).ToList();
            dbLocal.AddRange(VPScenarioLanguageList);
            dbLocal.SaveChanges();

            // VPScenarios
            List<VPScenario> VPScenarioList = (from c in dbLocal.VPScenarios select c).ToList();
            dbLocal.RemoveRange(VPScenarioList);
            dbLocal.SaveChanges();
            VPScenarioList = (from c in dbTest.VPScenarios select c).ToList();
            dbLocal.AddRange(VPScenarioList);
            dbLocal.SaveChanges();

            // MikeScenarioResults
            List<MikeScenarioResult> MikeScenarioResultList = (from c in dbLocal.MikeScenarioResults select c).ToList();
            dbLocal.RemoveRange(MikeScenarioResultList);
            dbLocal.SaveChanges();
            MikeScenarioResultList = (from c in dbTest.MikeScenarioResults select c).ToList();
            dbLocal.AddRange(MikeScenarioResultList);
            dbLocal.SaveChanges();

            // MikeScenarios
            List<MikeScenario> MikeScenarioList = (from c in dbLocal.MikeScenarios select c).ToList();
            dbLocal.RemoveRange(MikeScenarioList);
            dbLocal.SaveChanges();
            MikeScenarioList = (from c in dbTest.MikeScenarios select c).ToList();
            dbLocal.AddRange(MikeScenarioList);
            dbLocal.SaveChanges();

            // ContactPreferences
            List<ContactPreference> ContactPreferenceList = (from c in dbLocal.ContactPreferences select c).ToList();
            dbLocal.RemoveRange(ContactPreferenceList);
            dbLocal.SaveChanges();
            ContactPreferenceList = (from c in dbTest.ContactPreferences select c).ToList();
            dbLocal.AddRange(ContactPreferenceList);
            dbLocal.SaveChanges();

            // ContactShortcuts
            List<ContactShortcut> ContactShortcutList = (from c in dbLocal.ContactShortcuts select c).ToList();
            dbLocal.RemoveRange(ContactShortcutList);
            dbLocal.SaveChanges();
            ContactShortcutList = (from c in dbTest.ContactShortcuts select c).ToList();
            dbLocal.AddRange(ContactShortcutList);
            dbLocal.SaveChanges();

            // Contacts
            List<Contact> ContactList = (from c in dbLocal.Contacts select c).ToList();
            dbLocal.RemoveRange(ContactList);
            dbLocal.SaveChanges();
            ContactList = (from c in dbTest.Contacts select c).ToList();
            dbLocal.AddRange(ContactList);
            dbLocal.SaveChanges();

            // AspNetUsers
            List<AspNetUser> AspNetUserList = (from c in dbLocal.AspNetUsers select c).ToList();
            dbLocal.RemoveRange(AspNetUserList);
            dbLocal.SaveChanges();
            AspNetUserList = (from c in dbTest.AspNetUsers select c).ToList();
            dbLocal.AddRange(AspNetUserList);
            dbLocal.SaveChanges();

            // TVItemStats
            List<TVItemStat> TVItemStatList = (from c in dbLocal.TVItemStats select c).ToList();
            dbLocal.RemoveRange(TVItemStatList);
            dbLocal.SaveChanges();
            TVItemStatList = (from c in dbTest.TVItemStats select c).ToList();
            dbLocal.AddRange(TVItemStatList);
            dbLocal.SaveChanges();

            // TVItems
            List<TVItem> TVItemList = (from c in dbLocal.TVItems select c).ToList();
            dbLocal.RemoveRange(TVItemList);
            dbLocal.SaveChanges();
            TVItemList = (from c in dbTest.TVItems select c).ToList();
            dbLocal.AddRange(TVItemList);
            dbLocal.SaveChanges();
        }
        #endregion Tests 


        #region Functions private
        private async Task<bool> Setup(string culture)
        {
            Config = new ConfigurationBuilder()
               .SetBasePath(Directory.GetParent(AppContext.BaseDirectory).FullName)
               .AddJsonFile("appsettings_csspdblocalservicestests.json")
               .AddUserSecrets("91a273aa-0169-4298-82eb-86ff2429a2f8")
               .Build();

            Services = new ServiceCollection();

            Services.AddSingleton<IConfiguration>(Config);

            string CSSPDBConnString = Config.GetValue<string>("TestDB");
            Assert.NotNull(CSSPDBConnString);

            Services.AddDbContext<CSSPDBContext>(options =>
            {
                options.UseSqlServer(CSSPDBConnString);
            });

            string CSSPDBLocalFileName = Config.GetValue<string>("CSSPDBLocal");
            Assert.NotNull(CSSPDBLocalFileName);

            FileInfo fiCSSPDBLocal = new FileInfo(CSSPDBLocalFileName);

            Services.AddDbContext<CSSPDBLocalContext>(options =>
            {
                options.UseSqlite($"Data Source={ fiCSSPDBLocal.FullName }");
            });

            //Services.AddSingleton<ICSSPCultureService, CSSPCultureService>();
            //Services.AddSingleton<ILocalService, LocalService>();
            //Services.AddSingleton<IEnums, Enums>();

            Provider = Services.BuildServiceProvider();
            Assert.NotNull(Provider);

            //CSSPCultureService = Provider.GetService<ICSSPCultureService>();
            //Assert.NotNull(CSSPCultureService);

            //CSSPCultureService.SetCulture(culture);

            //LocalService = Provider.GetService<ILocalService>();
            //Assert.NotNull(LocalService);

            //Assert.True(await LocalService.SetLoggedInContactInfo());

            dbTest = Provider.GetService<CSSPDBContext>();
            Assert.NotNull(dbTest);

            dbLocal = Provider.GetService<CSSPDBLocalContext>();
            Assert.NotNull(dbLocal);

            return await Task.FromResult(true);
        }
        #endregion Functions private
    }
}
