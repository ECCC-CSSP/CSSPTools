<mat-list-item>
    <span mat-line>
        <app-tvfile-menu [TVFileModel]="TVFileModel" [AppState]="AppState">
        </app-tvfile-menu>

        <button mat-button (click)="download(TVFileModel)">
            <img src="{{ fileIconService.GetFileIcon(TVFileModel) }}" />
            <span>&nbsp;&nbsp;</span>
            <span>{{ Index }} - {{ TVFileModel.TVFile.ServerFileName }} </span>
            <span>| {{ TVFileModel.TVFile.FileSize_kb }} </span>
            <span>{{ appLanguageService.AppLanguage.KB[appStateService.AppState$?.getValue().Language] }} | </span>
            <span>{{ dateFormatService.GetFileCreateDate(TVFileModel) }}</span>
            <app-last-udpate-tv-file-model *ngIf="appStateService.AppState$?.getValue()?.LastUpdateVisible"
                [TVFileModel]="TVFileModel"></app-last-udpate-tv-file-model>
        </button>
    </span>
    <span mat-line *ngIf="download$ | async as download">
        <mat-progress-bar [mode]="download.state == 'PENDING' ? 'buffer' : 'determinate'" [value]="download.progress">
        </mat-progress-bar>
    </span>

</mat-list-item>

<ng-container *ngIf="showTVFileService.TVFileVisible(TVFileModel)">
    <app-file-list-item-view *ngIf="!AppState.EditVisible" [TVFileModel]="TVFileModel"
        [AppState]="AppState">
    </app-file-list-item-view>

    <app-file-list-item-edit *ngIf="AppState.EditVisible" [TVFileModel]="TVFileModel" [AppState]="AppState">
    </app-file-list-item-edit>
</ng-container>

<app-file-list-item-detail [AppState]="AppState" *ngIf="AppState.DetailVisible" [TVFileModel]="TVFileModel">
</app-file-list-item-detail>