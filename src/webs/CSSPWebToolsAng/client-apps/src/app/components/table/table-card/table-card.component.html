<mat-card class="tableSize">
  <mat-card-header>
    <button mat-raised-button (click)="CloseTable()">
      <span>{{ appLanguageService.Close[appLanguageService.LangID] }}</span>
    </button>
    &nbsp;&nbsp;
    <button mat-raised-button (click)="tableService.CreateTempCSV(myTable, tableFileName)">
      <mat-icon>download</mat-icon>
      <span>{{ appLanguageService.Download[appLanguageService.LangID] }}</span>
    </button>
  </mat-card-header>
  <mat-card-content>
    <p>&nbsp;</p>
    <h3>{{ tableTitle }}</h3>
    <p>&nbsp;</p>
    <ng-container *ngIf="webChartAndTableType == WebChartAndTableType.MonitoringStatsByYear">
      <table #table mat-table-exporter mat-table
        [dataSource]="appLoadedService.MonitoringStatsModel?.MonitoringStatByYearList">

        <ng-container matColumnDef="Year">
          <th mat-header-cell *matHeaderCellDef
            title="{{appLanguageService.YearOfSampling[appLanguageService.LangID]}}">
            {{appLanguageService.Year[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{ monstat.Year }} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMSiteCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMSite[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMSite[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{ monstat.MWQMSiteCount }} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMRunCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMRun[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMRun[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{monstat.MWQMRunCount}} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMSampleCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMSample[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMSample[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{monstat.MWQMSampleCount}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedYearColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedYearColumns;"></tr>
      </table>
    </ng-container>
    <ng-container *ngIf="webChartAndTableType == WebChartAndTableType.MonitoringStatsByMonth">
      <table #table mat-table [dataSource]="appLoadedService.MonitoringStatsModel?.MonitoringStatByMonthList">

        <ng-container matColumnDef="Month">
          <th mat-header-cell *matHeaderCellDef
            title="{{appLanguageService.MonthOfSampling[appLanguageService.LangID]}}">
            {{appLanguageService.Month[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{ monthEnum[monstat.Month] }} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMSiteCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMSite[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMSite[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{ monstat.MWQMSiteCount }} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMRunCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMRun[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMRun[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{monstat.MWQMRunCount}} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMSampleCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMSample[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMSample[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{monstat.MWQMSampleCount}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedMonthColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedMonthColumns;"></tr>
      </table>
    </ng-container>
    <ng-container *ngIf="webChartAndTableType == WebChartAndTableType.MonitoringStatsBySeason">
      <table #table mat-table [dataSource]="appLoadedService.MonitoringStatsModel?.MonitoringStatBySeasonList">

        <ng-container matColumnDef="Season">
          <th mat-header-cell *matHeaderCellDef
            title="{{appLanguageService.SeasonOfSampling[appLanguageService.LangID]}}">
            {{appLanguageService.Season[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{ seasonEnum[monstat.Season] }} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMSiteCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMSite[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMSite[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{ monstat.MWQMSiteCount }} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMRunCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMRun[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMRun[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{monstat.MWQMRunCount}} </td>
        </ng-container>

        <ng-container matColumnDef="MWQMSampleCount">
          <th mat-header-cell *matHeaderCellDef title="{{appLanguageService.MWQMSample[appLanguageService.LangID]}}">
            {{appLanguageService.MWQMSample[appLanguageService.LangID]}}
            <br />{{appLanguageService.Count[appLanguageService.LangID]}}
          </th>
          <td mat-cell *matCellDef="let monstat"> {{monstat.MWQMSampleCount}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedSeasonColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedSeasonColumns;"></tr>
      </table>
    </ng-container>
  </mat-card-content>
</mat-card>