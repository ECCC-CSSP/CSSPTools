/*
 * Auto generated from C:\CSSPTools\src\codegen\_package\netcoreapp3.1\AngularComponentsGenerated.exe
 *
 * Do not edit this file.
 *
 */

import { Component, OnInit, OnDestroy, ChangeDetectionStrategy, Input } from '@angular/core';
import { InfrastructureService } from './infrastructure.service';
import { LoadLocalesInfrastructureText } from './infrastructure.locales';
import { Subscription } from 'rxjs';
import { InfrastructureTypeEnum_GetOrderedText } from '../../../enums/generated/InfrastructureTypeEnum';
import { FacilityTypeEnum_GetOrderedText } from '../../../enums/generated/FacilityTypeEnum';
import { AerationTypeEnum_GetOrderedText } from '../../../enums/generated/AerationTypeEnum';
import { PreliminaryTreatmentTypeEnum_GetOrderedText } from '../../../enums/generated/PreliminaryTreatmentTypeEnum';
import { PrimaryTreatmentTypeEnum_GetOrderedText } from '../../../enums/generated/PrimaryTreatmentTypeEnum';
import { SecondaryTreatmentTypeEnum_GetOrderedText } from '../../../enums/generated/SecondaryTreatmentTypeEnum';
import { TertiaryTreatmentTypeEnum_GetOrderedText } from '../../../enums/generated/TertiaryTreatmentTypeEnum';
import { TreatmentTypeEnum_GetOrderedText } from '../../../enums/generated/TreatmentTypeEnum';
import { DisinfectionTypeEnum_GetOrderedText } from '../../../enums/generated/DisinfectionTypeEnum';
import { CollectionSystemTypeEnum_GetOrderedText } from '../../../enums/generated/CollectionSystemTypeEnum';
import { AlarmSystemTypeEnum_GetOrderedText } from '../../../enums/generated/AlarmSystemTypeEnum';
import { ValveTypeEnum_GetOrderedText } from '../../../enums/generated/ValveTypeEnum';
import { Infrastructure } from '../../../models/generated/Infrastructure.model';
import { FormBuilder, Validators, FormGroup } from '@angular/forms';
import { EnumIDAndText } from '../../../models/enum-idandtext.model';
import { HttpClientCommand } from '../../../enums/app.enums';

@Component({
  selector: 'app-infrastructure-edit',
  templateUrl: './infrastructure-edit.component.html',
  styleUrls: ['./infrastructure-edit.component.css'],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class InfrastructureEditComponent implements OnInit, OnDestroy {
  sub: Subscription;
  infrastructureTypeList: EnumIDAndText[];
  facilityTypeList: EnumIDAndText[];
  aerationTypeList: EnumIDAndText[];
  preliminaryTreatmentTypeList: EnumIDAndText[];
  primaryTreatmentTypeList: EnumIDAndText[];
  secondaryTreatmentTypeList: EnumIDAndText[];
  tertiaryTreatmentTypeList: EnumIDAndText[];
  treatmentTypeList: EnumIDAndText[];
  disinfectionTypeList: EnumIDAndText[];
  collectionSystemTypeList: EnumIDAndText[];
  alarmSystemTypeList: EnumIDAndText[];
  valveTypeList: EnumIDAndText[];
  infrastructureFormEdit: FormGroup;
  @Input() infrastructure: Infrastructure = null;
  @Input() httpClientCommand: HttpClientCommand = HttpClientCommand.Put;

  constructor(public infrastructureService: InfrastructureService, private fb: FormBuilder) {
  }

  GetPut() {
    return this.httpClientCommand == HttpClientCommand.Put ? true : false;
  }

  PutInfrastructure(infrastructure: Infrastructure) {
    this.sub = this.infrastructureService.PutInfrastructure(infrastructure).subscribe();
  }

  PostInfrastructure(infrastructure: Infrastructure) {
    this.sub = this.infrastructureService.PostInfrastructure(infrastructure).subscribe();
  }

  ngOnInit(): void {
    this.infrastructureTypeList = InfrastructureTypeEnum_GetOrderedText();
    this.facilityTypeList = FacilityTypeEnum_GetOrderedText();
    this.aerationTypeList = AerationTypeEnum_GetOrderedText();
    this.preliminaryTreatmentTypeList = PreliminaryTreatmentTypeEnum_GetOrderedText();
    this.primaryTreatmentTypeList = PrimaryTreatmentTypeEnum_GetOrderedText();
    this.secondaryTreatmentTypeList = SecondaryTreatmentTypeEnum_GetOrderedText();
    this.tertiaryTreatmentTypeList = TertiaryTreatmentTypeEnum_GetOrderedText();
    this.treatmentTypeList = TreatmentTypeEnum_GetOrderedText();
    this.disinfectionTypeList = DisinfectionTypeEnum_GetOrderedText();
    this.collectionSystemTypeList = CollectionSystemTypeEnum_GetOrderedText();
    this.alarmSystemTypeList = AlarmSystemTypeEnum_GetOrderedText();
    this.valveTypeList = ValveTypeEnum_GetOrderedText();
    this.FillFormBuilderGroup(this.httpClientCommand);
  }

  ngOnDestroy() {
    this.sub?.unsubscribe();
  }

  FillFormBuilderGroup(httpClientCommand: HttpClientCommand) {
    if (this.infrastructure) {
      let formGroup: FormGroup = this.fb.group(
        {
          InfrastructureID: [
            {
              value: (httpClientCommand === HttpClientCommand.Post ? 0 : (this.infrastructure.InfrastructureID)),
              disabled: false
            }, [Validators.required]],
          InfrastructureTVItemID: [
            {
              value: this.infrastructure.InfrastructureTVItemID,
              disabled: false
            }, [Validators.required]],
          PrismID: [
            {
              value: this.infrastructure.PrismID,
              disabled: false
            }, [Validators.min(0), Validators.max(100000)]],
          TPID: [
            {
              value: this.infrastructure.TPID,
              disabled: false
            }, [Validators.min(0), Validators.max(100000)]],
          LSID: [
            {
              value: this.infrastructure.LSID,
              disabled: false
            }, [Validators.min(0), Validators.max(100000)]],
          SiteID: [
            {
              value: this.infrastructure.SiteID,
              disabled: false
            }, [Validators.min(0), Validators.max(100000)]],
          Site: [
            {
              value: this.infrastructure.Site,
              disabled: false
            }, [Validators.min(0), Validators.max(100000)]],
          InfrastructureCategory: [
            {
              value: this.infrastructure.InfrastructureCategory,
              disabled: false
            }, [Validators.minLength(1), Validators.maxLength(1)]],
          InfrastructureType: [
            {
              value: this.infrastructure.InfrastructureType,
              disabled: false
            }],
          FacilityType: [
            {
              value: this.infrastructure.FacilityType,
              disabled: false
            }],
          HasBackupPower: [
            {
              value: this.infrastructure.HasBackupPower,
              disabled: false
            }],
          IsMechanicallyAerated: [
            {
              value: this.infrastructure.IsMechanicallyAerated,
              disabled: false
            }],
          NumberOfCells: [
            {
              value: this.infrastructure.NumberOfCells,
              disabled: false
            }, [Validators.min(0), Validators.max(10)]],
          NumberOfAeratedCells: [
            {
              value: this.infrastructure.NumberOfAeratedCells,
              disabled: false
            }, [Validators.min(0), Validators.max(10)]],
          AerationType: [
            {
              value: this.infrastructure.AerationType,
              disabled: false
            }],
          PreliminaryTreatmentType: [
            {
              value: this.infrastructure.PreliminaryTreatmentType,
              disabled: false
            }],
          PrimaryTreatmentType: [
            {
              value: this.infrastructure.PrimaryTreatmentType,
              disabled: false
            }],
          SecondaryTreatmentType: [
            {
              value: this.infrastructure.SecondaryTreatmentType,
              disabled: false
            }],
          TertiaryTreatmentType: [
            {
              value: this.infrastructure.TertiaryTreatmentType,
              disabled: false
            }],
          TreatmentType: [
            {
              value: this.infrastructure.TreatmentType,
              disabled: false
            }],
          DisinfectionType: [
            {
              value: this.infrastructure.DisinfectionType,
              disabled: false
            }],
          CollectionSystemType: [
            {
              value: this.infrastructure.CollectionSystemType,
              disabled: false
            }],
          AlarmSystemType: [
            {
              value: this.infrastructure.AlarmSystemType,
              disabled: false
            }],
          DesignFlow_m3_day: [
            {
              value: this.infrastructure.DesignFlow_m3_day,
              disabled: false
            }, [Validators.min(0), Validators.max(1000000)]],
          AverageFlow_m3_day: [
            {
              value: this.infrastructure.AverageFlow_m3_day,
              disabled: false
            }, [Validators.min(0), Validators.max(1000000)]],
          PeakFlow_m3_day: [
            {
              value: this.infrastructure.PeakFlow_m3_day,
              disabled: false
            }, [Validators.min(0), Validators.max(1000000)]],
          PopServed: [
            {
              value: this.infrastructure.PopServed,
              disabled: false
            }, [Validators.min(0), Validators.max(1000000)]],
          CanOverflow: [
            {
              value: this.infrastructure.CanOverflow,
              disabled: false
            }],
          ValveType: [
            {
              value: this.infrastructure.ValveType,
              disabled: false
            }],
          PercFlowOfTotal: [
            {
              value: this.infrastructure.PercFlowOfTotal,
              disabled: false
            }, [Validators.min(0), Validators.max(100)]],
          TimeOffset_hour: [
            {
              value: this.infrastructure.TimeOffset_hour,
              disabled: false
            }, [Validators.min(-10), Validators.max(0)]],
          TempCatchAllRemoveLater: [
            {
              value: this.infrastructure.TempCatchAllRemoveLater,
              disabled: false
            }],
          AverageDepth_m: [
            {
              value: this.infrastructure.AverageDepth_m,
              disabled: false
            }, [Validators.min(0), Validators.max(1000)]],
          NumberOfPorts: [
            {
              value: this.infrastructure.NumberOfPorts,
              disabled: false
            }, [Validators.min(1), Validators.max(1000)]],
          PortDiameter_m: [
            {
              value: this.infrastructure.PortDiameter_m,
              disabled: false
            }, [Validators.min(0), Validators.max(10)]],
          PortSpacing_m: [
            {
              value: this.infrastructure.PortSpacing_m,
              disabled: false
            }, [Validators.min(0), Validators.max(10000)]],
          PortElevation_m: [
            {
              value: this.infrastructure.PortElevation_m,
              disabled: false
            }, [Validators.min(0), Validators.max(1000)]],
          VerticalAngle_deg: [
            {
              value: this.infrastructure.VerticalAngle_deg,
              disabled: false
            }, [Validators.min(-90), Validators.max(90)]],
          HorizontalAngle_deg: [
            {
              value: this.infrastructure.HorizontalAngle_deg,
              disabled: false
            }, [Validators.min(-180), Validators.max(180)]],
          DecayRate_per_day: [
            {
              value: this.infrastructure.DecayRate_per_day,
              disabled: false
            }, [Validators.min(0), Validators.max(100)]],
          NearFieldVelocity_m_s: [
            {
              value: this.infrastructure.NearFieldVelocity_m_s,
              disabled: false
            }, [Validators.min(0), Validators.max(10)]],
          FarFieldVelocity_m_s: [
            {
              value: this.infrastructure.FarFieldVelocity_m_s,
              disabled: false
            }, [Validators.min(0), Validators.max(10)]],
          ReceivingWaterSalinity_PSU: [
            {
              value: this.infrastructure.ReceivingWaterSalinity_PSU,
              disabled: false
            }, [Validators.min(0), Validators.max(40)]],
          ReceivingWaterTemperature_C: [
            {
              value: this.infrastructure.ReceivingWaterTemperature_C,
              disabled: false
            }, [Validators.min(-10), Validators.max(40)]],
          ReceivingWater_MPN_per_100ml: [
            {
              value: this.infrastructure.ReceivingWater_MPN_per_100ml,
              disabled: false
            }, [Validators.min(0), Validators.max(10000000)]],
          DistanceFromShore_m: [
            {
              value: this.infrastructure.DistanceFromShore_m,
              disabled: false
            }, [Validators.min(0), Validators.max(1000)]],
          SeeOtherMunicipalityTVItemID: [
            {
              value: this.infrastructure.SeeOtherMunicipalityTVItemID,
              disabled: false
            }],
          CivicAddressTVItemID: [
            {
              value: this.infrastructure.CivicAddressTVItemID,
              disabled: false
            }],
          LastUpdateDate_UTC: [
            {
              value: this.infrastructure.LastUpdateDate_UTC,
              disabled: false
            }, [Validators.required]],
          LastUpdateContactTVItemID: [
            {
              value: this.infrastructure.LastUpdateContactTVItemID,
              disabled: false
            }, [Validators.required]],
        }
      );

      this.infrastructureFormEdit = formGroup
    }
  }
}
