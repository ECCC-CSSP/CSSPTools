function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,i){return r&&_defineProperties(e.prototype,r),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"TXZ+":function(e,r,i){"use strict";i.r(r),i.d(r,"LoginModule",(function(){return P}));var o,n=i("ofXK"),t=i("tyNb"),a=i("3Pt+"),l=i("fXoL"),s=i("2Vo4"),c=((o=function(){function e(){_classCallCheck(this,e),this.loginModel$=new s.a({})}return _createClass(e,[{key:"UpdateLogin",value:function(e){this.loginModel$.next(Object.assign(Object.assign({},this.loginModel$.getValue()),e))}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275prov=l.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),u=i("qfBg"),g=i("Wp6s"),b=i("kmnG"),d=i("qFsG"),f=i("bTqV"),m=i("bv9b");function v(e,r){if(1&e&&(l.Tb(0,"span"),l.yc(1),l.Sb()),2&e){var i=l.ec(2);l.Bb(1),l.zc(i.loginService.loginModel$.getValue().Locale_LoginEmailIsRequired)}}function p(e,r){if(1&e&&(l.Tb(0,"mat-error"),l.xc(1,v,2,1,"span",4),l.Sb()),2&e){var i=l.ec();l.Bb(1),l.jc("ngIf",i.f.LoginEmail.errors.required)}}function L(e,r){if(1&e&&(l.Tb(0,"span"),l.yc(1),l.Sb()),2&e){var i=l.ec(2);l.Bb(1),l.zc(i.loginService.loginModel$.getValue().Locale_PasswordIsRequired)}}function S(e,r){if(1&e&&(l.Tb(0,"mat-error"),l.xc(1,L,2,1,"span",4),l.Sb()),2&e){var i=l.ec();l.Bb(1),l.jc("ngIf",i.f.Password.errors.required)}}function h(e,r){if(1&e&&(l.Tb(0,"mat-error"),l.yc(1),l.Sb()),2&e){var i=l.ec();l.Bb(1),l.Ac(" ",null==i.userService.userModel$.getValue().Error?null:i.userService.userModel$.getValue().Error.error," ")}}function w(e,r){1&e&&l.Ob(0,"mat-progress-bar",10)}var _,y,M,C=function(e){return{"is-invalid":e}},$=[{path:"",component:(_=function(){function e(r,i,o,n,t){_classCallCheck(this,e),this.formBuilder=r,this.route=i,this.router=o,this.loginService=n,this.userService=t}return _createClass(e,[{key:"onSubmit",value:function(){this.userService.UpdateUser({Submitted:!0}),this.loginForm.invalid?this.userService.UpdateUser(null):(this.loginService.UpdateLogin({LoginEmail:this.f.LoginEmail.value}),this.sub=this.userService.Login(this.f.LoginEmail.value,this.f.Password.value,this.router,$localize.locale,this.returnUrl).subscribe())}},{key:"ngOnInit",value:function(){var e,r,i,o;i=this.loginService,o={Locale_Login:"Login",Locale_LoginEmail:"Login Email",Locale_LoginEmailIsRequired:"Login Email is required",Locale_Password:"Password",Locale_PasswordIsRequired:"Password is required",Locale_Register:"Register"},"fr-CA"===$localize.locale&&(o.Locale_Login="S'inscrire",o.Locale_LoginEmail="Courriel d'inscription",o.Locale_LoginEmailIsRequired="Le courriel d'inscription est requis",o.Locale_Password="Mot de passe",o.Locale_PasswordIsRequired="Mot de passe est requis",o.Locale_Register="S'enregistrer"),i.UpdateLogin(o),this.loginForm=this.formBuilder.group({LoginEmail:[null===(e=this.loginService.loginModel$.value)||void 0===e?void 0:e.LoginEmail,a.p.required],Password:[null===(r=this.loginService.loginModel$.value)||void 0===r?void 0:r.Password,a.p.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.loginService.UpdateLogin({Language:$localize.locale,returnUrl:this.returnUrl}),this.userService.userModel$.value.Id&&this.router.navigate(["/"])}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"f",get:function(){return this.loginForm.controls}}]),e}(),_.\u0275fac=function(e){return new(e||_)(l.Nb(a.d),l.Nb(t.a),l.Nb(t.b),l.Nb(c),l.Nb(u.a))},_.\u0275cmp=l.Hb({type:_,selectors:[["app-login"]],decls:26,vars:18,consts:[[1,"loginCard"],[3,"formGroup","ngSubmit"],["for","LoginEmail"],["matInput","","type","text","formControlName","LoginEmail",3,"ngClass"],[4,"ngIf"],["for","Password"],["matInput","","type","password","formControlName","Password",3,"ngClass"],["mat-raised-button","",3,"disabled"],["mode","indeterminate",4,"ngIf"],["mat-button","",3,"routerLink"],["mode","indeterminate"]],template:function(e,r){1&e&&(l.Tb(0,"div",0),l.Tb(1,"mat-card"),l.Tb(2,"mat-card-content"),l.Tb(3,"h2"),l.yc(4),l.Sb(),l.Tb(5,"form",1),l.ac("ngSubmit",(function(){return r.onSubmit()})),l.Tb(6,"p"),l.Tb(7,"mat-form-field"),l.Tb(8,"mat-label",2),l.yc(9),l.Sb(),l.Ob(10,"input",3),l.xc(11,p,2,1,"mat-error",4),l.Sb(),l.Sb(),l.Tb(12,"p"),l.Tb(13,"mat-form-field"),l.Tb(14,"mat-label",5),l.yc(15),l.Sb(),l.Ob(16,"input",6),l.xc(17,S,2,1,"mat-error",4),l.Sb(),l.Sb(),l.Tb(18,"p"),l.xc(19,h,2,1,"mat-error",4),l.Sb(),l.Tb(20,"p"),l.Tb(21,"button",7),l.xc(22,w,1,0,"mat-progress-bar",8),l.yc(23),l.Sb(),l.Tb(24,"a",9),l.yc(25),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(4),l.zc(r.loginService.loginModel$.getValue().Locale_Login),l.Bb(1),l.jc("formGroup",r.loginForm),l.Bb(4),l.Ac("",r.loginService.loginModel$.getValue().Locale_LoginEmail," "),l.Bb(1),l.jc("ngClass",l.mc(14,C,r.userService.userModel$.getValue().Working&&r.f.LoginEmail.errors)),l.Bb(1),l.jc("ngIf",r.userService.userModel$.getValue().Working&&r.f.LoginEmail.errors),l.Bb(4),l.zc(r.loginService.loginModel$.getValue().Locale_Password),l.Bb(1),l.jc("ngClass",l.mc(16,C,r.userService.userModel$.getValue().Working&&r.f.Password.errors)),l.Bb(1),l.jc("ngIf",r.userService.userModel$.getValue().Working&&r.f.Password.errors),l.Bb(2),l.jc("ngIf",r.userService.userModel$.getValue().Error),l.Bb(2),l.jc("disabled",r.userService.userModel$.getValue().Working),l.Bb(1),l.jc("ngIf",r.userService.userModel$.getValue().Working),l.Bb(1),l.Ac(" ",r.loginService.loginModel$.getValue().Locale_Login," "),l.Bb(1),l.kc("routerLink","/",r.loginService.loginModel$.getValue().Language,"/register"),l.Bb(1),l.zc(r.loginService.loginModel$.getValue().Locale_Register))},directives:[g.a,g.c,a.q,a.l,a.f,b.c,b.f,d.b,a.c,a.k,a.e,n.j,n.l,f.b,f.a,t.d,b.b,m.a],styles:[".loginCard[_ngcontent-%COMP%]{margin:20px;text-align:center;vertical-align:middle;min-width:300px;max-width:500px}"],changeDetection:0}),_)}],k=((y=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:y}),y.\u0275inj=l.Kb({factory:function(e){return new(e||y)},imports:[[t.e.forChild($)],t.e]}),y),B=i("B+Mi"),P=((M=function e(){_classCallCheck(this,e)}).\u0275mod=l.Lb({type:M}),M.\u0275inj=l.Kb({factory:function(e){return new(e||M)},imports:[[n.c,t.e,k,a.o,B.a]]}),M)}}]);