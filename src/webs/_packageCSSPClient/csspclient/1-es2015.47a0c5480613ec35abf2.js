(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"TXZ+":function(e,r,i){"use strict";i.r(r),i.d(r,"LoginModule",(function(){return $}));var o=i("ofXK"),n=i("tyNb"),t=i("3Pt+"),s=i("fXoL"),l=i("2Vo4");let a=(()=>{class e{constructor(){this.loginModel$=new l.a({})}UpdateLogin(e){this.loginModel$.next(Object.assign(Object.assign({},this.loginModel$.getValue()),e))}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i("qfBg"),u=i("Wp6s"),g=i("kmnG"),d=i("qFsG"),b=i("bTqV"),m=i("bv9b");function f(e,r){if(1&e&&(s.Sb(0,"span"),s.zc(1),s.Rb()),2&e){const e=s.dc(2);s.Bb(1),s.Ac(e.loginService.loginModel$.getValue().Locale_LoginEmailIsRequired)}}function S(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.yc(1,f,2,1,"span",4),s.Rb()),2&e){const e=s.dc();s.Bb(1),s.ic("ngIf",e.f.LoginEmail.errors.required)}}function L(e,r){if(1&e&&(s.Sb(0,"span"),s.zc(1),s.Rb()),2&e){const e=s.dc(2);s.Bb(1),s.Ac(e.loginService.loginModel$.getValue().Locale_PasswordIsRequired)}}function p(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.yc(1,L,2,1,"span",4),s.Rb()),2&e){const e=s.dc();s.Bb(1),s.ic("ngIf",e.f.Password.errors.required)}}function v(e,r){if(1&e&&(s.Sb(0,"mat-error"),s.zc(1),s.Rb()),2&e){const e=s.dc();s.Bb(1),s.Bc(" ",null==e.userService.userModel$.getValue().Error?null:e.userService.userModel$.getValue().Error.error," ")}}function h(e,r){1&e&&s.Nb(0,"mat-progress-bar",10)}const M=function(e){return{"is-invalid":e}},w=[{path:"",component:(()=>{class e{constructor(e,r,i,o,n){this.formBuilder=e,this.route=r,this.router=i,this.loginService=o,this.userService=n}get f(){return this.loginForm.controls}onSubmit(){this.userService.UpdateUser({Submitted:!0}),this.loginForm.invalid?this.userService.UpdateUser(null):(this.loginService.UpdateLogin({LoginEmail:this.f.LoginEmail.value}),this.sub=this.userService.Login(this.f.LoginEmail.value,this.f.Password.value,this.router,$localize.locale,this.returnUrl).subscribe())}ngOnInit(){var e,r;!function(e){let r={Locale_Login:"Login",Locale_LoginEmail:"Login Email",Locale_LoginEmailIsRequired:"Login Email is required",Locale_Password:"Password",Locale_PasswordIsRequired:"Password is required",Locale_Register:"Register"};"fr-CA"===$localize.locale&&(r.Locale_Login="S'inscrire",r.Locale_LoginEmail="Courriel d'inscription",r.Locale_LoginEmailIsRequired="Le courriel d'inscription est requis",r.Locale_Password="Mot de passe",r.Locale_PasswordIsRequired="Mot de passe est requis",r.Locale_Register="S'enregistrer"),e.UpdateLogin(r)}(this.loginService),this.loginForm=this.formBuilder.group({LoginEmail:[null===(e=this.loginService.loginModel$.value)||void 0===e?void 0:e.LoginEmail,t.n.required],Password:[null===(r=this.loginService.loginModel$.value)||void 0===r?void 0:r.Password,t.n.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.loginService.UpdateLogin({Language:$localize.locale,returnUrl:this.returnUrl}),this.userService.userModel$.value.Id&&this.router.navigate(["/"])}ngOnDestroy(){this.sub.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(s.Mb(t.d),s.Mb(n.a),s.Mb(n.b),s.Mb(a),s.Mb(c.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-login"]],decls:26,vars:18,consts:[[1,"loginCard"],[3,"formGroup","ngSubmit"],["for","LoginEmail"],["matInput","","type","text","formControlName","LoginEmail",3,"ngClass"],[4,"ngIf"],["for","Password"],["matInput","","type","password","formControlName","Password",3,"ngClass"],["mat-raised-button","",3,"disabled"],["mode","indeterminate",4,"ngIf"],["mat-button","",3,"routerLink"],["mode","indeterminate"]],template:function(e,r){1&e&&(s.Sb(0,"div",0),s.Sb(1,"mat-card"),s.Sb(2,"mat-card-content"),s.Sb(3,"h2"),s.zc(4),s.Rb(),s.Sb(5,"form",1),s.Zb("ngSubmit",(function(){return r.onSubmit()})),s.Sb(6,"p"),s.Sb(7,"mat-form-field"),s.Sb(8,"mat-label",2),s.zc(9),s.Rb(),s.Nb(10,"input",3),s.yc(11,S,2,1,"mat-error",4),s.Rb(),s.Rb(),s.Sb(12,"p"),s.Sb(13,"mat-form-field"),s.Sb(14,"mat-label",5),s.zc(15),s.Rb(),s.Nb(16,"input",6),s.yc(17,p,2,1,"mat-error",4),s.Rb(),s.Rb(),s.Sb(18,"p"),s.yc(19,v,2,1,"mat-error",4),s.Rb(),s.Sb(20,"p"),s.Sb(21,"button",7),s.yc(22,h,1,0,"mat-progress-bar",8),s.zc(23),s.Rb(),s.Sb(24,"a",9),s.zc(25),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Bb(4),s.Ac(r.loginService.loginModel$.getValue().Locale_Login),s.Bb(1),s.ic("formGroup",r.loginForm),s.Bb(4),s.Bc("",r.loginService.loginModel$.getValue().Locale_LoginEmail," "),s.Bb(1),s.ic("ngClass",s.lc(14,M,r.userService.userModel$.getValue().Working&&r.f.LoginEmail.errors)),s.Bb(1),s.ic("ngIf",r.userService.userModel$.getValue().Working&&r.f.LoginEmail.errors),s.Bb(4),s.Ac(r.loginService.loginModel$.getValue().Locale_Password),s.Bb(1),s.ic("ngClass",s.lc(16,M,r.userService.userModel$.getValue().Working&&r.f.Password.errors)),s.Bb(1),s.ic("ngIf",r.userService.userModel$.getValue().Working&&r.f.Password.errors),s.Bb(2),s.ic("ngIf",r.userService.userModel$.getValue().Error),s.Bb(2),s.ic("disabled",r.userService.userModel$.getValue().Working),s.Bb(1),s.ic("ngIf",r.userService.userModel$.getValue().Working),s.Bb(1),s.Bc(" ",r.loginService.loginModel$.getValue().Locale_Login," "),s.Bb(1),s.jc("routerLink","/",r.loginService.loginModel$.getValue().Language,"/register"),s.Bb(1),s.Ac(r.loginService.loginModel$.getValue().Locale_Register))},directives:[u.a,u.b,t.o,t.k,t.f,g.c,g.f,d.b,t.c,t.j,t.e,o.i,o.k,b.b,b.a,n.d,g.b,m.a],styles:[".loginCard[_ngcontent-%COMP%]{margin:20px;text-align:center;vertical-align:middle;min-width:300px;max-width:500px}"],changeDetection:0}),e})()}];let R=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(r){return new(r||e)},imports:[[n.e.forChild(w)],n.e]}),e})();var B=i("B+Mi");let $=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(r){return new(r||e)},imports:[[o.c,n.e,R,t.m,B.a]]}),e})()}}]);