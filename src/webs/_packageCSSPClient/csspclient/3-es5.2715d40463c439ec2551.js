!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,r,o){return r&&i(e.prototype,r),o&&i(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"TXZ+":function(i,o,n){"use strict";n.r(o),n.d(o,"LoginModule",(function(){return _}));var t,a=n("ofXK"),l=n("tyNb"),s=n("3Pt+"),c=n("fXoL"),u=n("2Vo4"),g=((t=function(){function i(){e(this,i),this.loginModel$=new u.a({})}return r(i,[{key:"UpdateLogin",value:function(e){this.loginModel$.next(Object.assign(Object.assign({},this.loginModel$.getValue()),e))}}]),i}()).\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t),b=n("qfBg"),d=n("Wp6s"),f=n("kmnG"),m=n("qFsG"),v=n("bTqV"),p=n("bv9b");function S(e,i){if(1&e&&(c.Sb(0,"span"),c.zc(1),c.Rb()),2&e){var r=c.dc(2);c.Bb(1),c.Ac(r.loginService.loginModel$.getValue().Locale_LoginEmailIsRequired)}}function L(e,i){if(1&e&&(c.Sb(0,"mat-error"),c.yc(1,S,2,1,"span",4),c.Rb()),2&e){var r=c.dc();c.Bb(1),c.ic("ngIf",r.f.LoginEmail.errors.required)}}function h(e,i){if(1&e&&(c.Sb(0,"span"),c.zc(1),c.Rb()),2&e){var r=c.dc(2);c.Bb(1),c.Ac(r.loginService.loginModel$.getValue().Locale_PasswordIsRequired)}}function w(e,i){if(1&e&&(c.Sb(0,"mat-error"),c.yc(1,h,2,1,"span",4),c.Rb()),2&e){var r=c.dc();c.Bb(1),c.ic("ngIf",r.f.Password.errors.required)}}function M(e,i){if(1&e&&(c.Sb(0,"mat-error"),c.zc(1),c.Rb()),2&e){var r=c.dc();c.Bb(1),c.Bc(" ",null==r.userService.userModel$.getValue().Error?null:r.userService.userModel$.getValue().Error.error," ")}}function R(e,i){1&e&&c.Nb(0,"mat-progress-bar",10)}var y,B,$,E=function(e){return{"is-invalid":e}},I=[{path:"",component:(y=function(){function i(r,o,n,t,a){e(this,i),this.formBuilder=r,this.route=o,this.router=n,this.loginService=t,this.userService=a}return r(i,[{key:"onSubmit",value:function(){this.userService.UpdateUser({Submitted:!0}),this.loginForm.invalid?this.userService.UpdateUser(null):(this.loginService.UpdateLogin({LoginEmail:this.f.LoginEmail.value}),this.sub=this.userService.Login(this.f.LoginEmail.value,this.f.Password.value,this.router,$localize.locale,this.returnUrl).subscribe())}},{key:"ngOnInit",value:function(){var e,i,r,o;r=this.loginService,o={Locale_Login:"Login",Locale_LoginEmail:"Login Email",Locale_LoginEmailIsRequired:"Login Email is required",Locale_Password:"Password",Locale_PasswordIsRequired:"Password is required",Locale_Register:"Register"},"fr-CA"===$localize.locale&&(o.Locale_Login="S'inscrire",o.Locale_LoginEmail="Courriel d'inscription",o.Locale_LoginEmailIsRequired="Le courriel d'inscription est requis",o.Locale_Password="Mot de passe",o.Locale_PasswordIsRequired="Mot de passe est requis",o.Locale_Register="S'enregistrer"),r.UpdateLogin(o),this.loginForm=this.formBuilder.group({LoginEmail:[null===(e=this.loginService.loginModel$.value)||void 0===e?void 0:e.LoginEmail,s.p.required],Password:[null===(i=this.loginService.loginModel$.value)||void 0===i?void 0:i.Password,s.p.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.loginService.UpdateLogin({Language:$localize.locale,returnUrl:this.returnUrl}),this.userService.userModel$.value.Id&&this.router.navigate(["/"])}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"f",get:function(){return this.loginForm.controls}}]),i}(),y.\u0275fac=function(e){return new(e||y)(c.Mb(s.d),c.Mb(l.a),c.Mb(l.b),c.Mb(g),c.Mb(b.a))},y.\u0275cmp=c.Gb({type:y,selectors:[["app-login"]],decls:26,vars:18,consts:[[1,"loginCard"],[3,"formGroup","ngSubmit"],["for","LoginEmail"],["matInput","","type","text","formControlName","LoginEmail",3,"ngClass"],[4,"ngIf"],["for","Password"],["matInput","","type","password","formControlName","Password",3,"ngClass"],["mat-raised-button","",3,"disabled"],["mode","indeterminate",4,"ngIf"],["mat-button","",3,"routerLink"],["mode","indeterminate"]],template:function(e,i){1&e&&(c.Sb(0,"div",0),c.Sb(1,"mat-card"),c.Sb(2,"mat-card-content"),c.Sb(3,"h2"),c.zc(4),c.Rb(),c.Sb(5,"form",1),c.Zb("ngSubmit",(function(){return i.onSubmit()})),c.Sb(6,"p"),c.Sb(7,"mat-form-field"),c.Sb(8,"mat-label",2),c.zc(9),c.Rb(),c.Nb(10,"input",3),c.yc(11,L,2,1,"mat-error",4),c.Rb(),c.Rb(),c.Sb(12,"p"),c.Sb(13,"mat-form-field"),c.Sb(14,"mat-label",5),c.zc(15),c.Rb(),c.Nb(16,"input",6),c.yc(17,w,2,1,"mat-error",4),c.Rb(),c.Rb(),c.Sb(18,"p"),c.yc(19,M,2,1,"mat-error",4),c.Rb(),c.Sb(20,"p"),c.Sb(21,"button",7),c.yc(22,R,1,0,"mat-progress-bar",8),c.zc(23),c.Rb(),c.Sb(24,"a",9),c.zc(25),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Bb(4),c.Ac(i.loginService.loginModel$.getValue().Locale_Login),c.Bb(1),c.ic("formGroup",i.loginForm),c.Bb(4),c.Bc("",i.loginService.loginModel$.getValue().Locale_LoginEmail," "),c.Bb(1),c.ic("ngClass",c.lc(14,E,i.userService.userModel$.getValue().Working&&i.f.LoginEmail.errors)),c.Bb(1),c.ic("ngIf",i.userService.userModel$.getValue().Working&&i.f.LoginEmail.errors),c.Bb(4),c.Ac(i.loginService.loginModel$.getValue().Locale_Password),c.Bb(1),c.ic("ngClass",c.lc(16,E,i.userService.userModel$.getValue().Working&&i.f.Password.errors)),c.Bb(1),c.ic("ngIf",i.userService.userModel$.getValue().Working&&i.f.Password.errors),c.Bb(2),c.ic("ngIf",i.userService.userModel$.getValue().Error),c.Bb(2),c.ic("disabled",i.userService.userModel$.getValue().Working),c.Bb(1),c.ic("ngIf",i.userService.userModel$.getValue().Working),c.Bb(1),c.Bc(" ",i.loginService.loginModel$.getValue().Locale_Login," "),c.Bb(1),c.jc("routerLink","/",i.loginService.loginModel$.getValue().Language,"/register"),c.Bb(1),c.Ac(i.loginService.loginModel$.getValue().Locale_Register))},directives:[d.a,d.c,s.q,s.l,s.f,f.c,f.f,m.b,s.c,s.k,s.e,a.j,a.l,v.b,v.a,l.d,f.b,p.a],styles:[".loginCard[_ngcontent-%COMP%]{margin:20px;text-align:center;vertical-align:middle;min-width:300px;max-width:500px}"],changeDetection:0}),y)}],P=((B=function i(){e(this,i)}).\u0275mod=c.Kb({type:B}),B.\u0275inj=c.Jb({factory:function(e){return new(e||B)},imports:[[l.e.forChild(I)],l.e]}),B),V=n("B+Mi"),_=(($=function i(){e(this,i)}).\u0275mod=c.Kb({type:$}),$.\u0275inj=c.Jb({factory:function(e){return new(e||$)},imports:[[a.c,l.e,P,s.o,V.a]]}),$)}}])}();