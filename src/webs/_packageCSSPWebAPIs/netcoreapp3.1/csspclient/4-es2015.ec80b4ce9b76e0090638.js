(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"TXZ+":function(e,r,i){"use strict";i.r(r),i.d(r,"LoginModule",(function(){return T}));var o=i("ofXK"),n=i("tyNb"),t=i("3Pt+"),s=i("fXoL"),l=i("2Vo4");let a=(()=>{class e{constructor(){this.loginModel$=new l.a({})}UpdateLogin(e){this.loginModel$.next(Object.assign(Object.assign({},this.loginModel$.getValue()),e))}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i("qfBg"),u=i("Wp6s"),g=i("kmnG"),b=i("qFsG"),d=i("bTqV"),m=i("bv9b");function f(e,r){if(1&e&&(s.Tb(0,"span"),s.yc(1),s.Sb()),2&e){const e=s.ec(2);s.Bb(1),s.zc(e.loginService.loginModel$.getValue().Locale_LoginEmailIsRequired)}}function L(e,r){if(1&e&&(s.Tb(0,"mat-error"),s.xc(1,f,2,1,"span",4),s.Sb()),2&e){const e=s.ec();s.Bb(1),s.jc("ngIf",e.f.LoginEmail.errors.required)}}function p(e,r){if(1&e&&(s.Tb(0,"span"),s.yc(1),s.Sb()),2&e){const e=s.ec(2);s.Bb(1),s.zc(e.loginService.loginModel$.getValue().Locale_PasswordIsRequired)}}function S(e,r){if(1&e&&(s.Tb(0,"mat-error"),s.xc(1,p,2,1,"span",4),s.Sb()),2&e){const e=s.ec();s.Bb(1),s.jc("ngIf",e.f.Password.errors.required)}}function v(e,r){if(1&e&&(s.Tb(0,"mat-error"),s.yc(1),s.Sb()),2&e){const e=s.ec();s.Bb(1),s.Ac(" ",null==e.userService.userModel$.getValue().Error?null:e.userService.userModel$.getValue().Error.error," ")}}function h(e,r){1&e&&s.Ob(0,"mat-progress-bar",10)}const w=function(e){return{"is-invalid":e}},M=[{path:"",component:(()=>{class e{constructor(e,r,i,o,n){this.formBuilder=e,this.route=r,this.router=i,this.loginService=o,this.userService=n}get f(){return this.loginForm.controls}onSubmit(){this.userService.UpdateUser({Submitted:!0}),this.loginForm.invalid?this.userService.UpdateUser(null):(this.loginService.UpdateLogin({LoginEmail:this.f.LoginEmail.value}),this.sub=this.userService.Login(this.f.LoginEmail.value,this.f.Password.value,this.router,$localize.locale,this.returnUrl).subscribe())}ngOnInit(){var e,r;!function(e){let r={Locale_Login:"Login",Locale_LoginEmail:"Login Email",Locale_LoginEmailIsRequired:"Login Email is required",Locale_Password:"Password",Locale_PasswordIsRequired:"Password is required",Locale_Register:"Register"};"fr-CA"===$localize.locale&&(r.Locale_Login="S'inscrire",r.Locale_LoginEmail="Courriel d'inscription",r.Locale_LoginEmailIsRequired="Le courriel d'inscription est requis",r.Locale_Password="Mot de passe",r.Locale_PasswordIsRequired="Mot de passe est requis",r.Locale_Register="S'enregistrer"),e.UpdateLogin(r)}(this.loginService),this.loginForm=this.formBuilder.group({LoginEmail:[null===(e=this.loginService.loginModel$.value)||void 0===e?void 0:e.LoginEmail,t.p.required],Password:[null===(r=this.loginService.loginModel$.value)||void 0===r?void 0:r.Password,t.p.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.loginService.UpdateLogin({Language:$localize.locale,returnUrl:this.returnUrl}),this.userService.userModel$.value.Id&&this.router.navigate(["/"])}ngOnDestroy(){this.sub.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(s.Nb(t.d),s.Nb(n.a),s.Nb(n.b),s.Nb(a),s.Nb(c.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-login"]],decls:26,vars:18,consts:[[1,"loginCard"],[3,"formGroup","ngSubmit"],["for","LoginEmail"],["matInput","","type","text","formControlName","LoginEmail",3,"ngClass"],[4,"ngIf"],["for","Password"],["matInput","","type","password","formControlName","Password",3,"ngClass"],["mat-raised-button","",3,"disabled"],["mode","indeterminate",4,"ngIf"],["mat-button","",3,"routerLink"],["mode","indeterminate"]],template:function(e,r){1&e&&(s.Tb(0,"div",0),s.Tb(1,"mat-card"),s.Tb(2,"mat-card-content"),s.Tb(3,"h2"),s.yc(4),s.Sb(),s.Tb(5,"form",1),s.ac("ngSubmit",(function(){return r.onSubmit()})),s.Tb(6,"p"),s.Tb(7,"mat-form-field"),s.Tb(8,"mat-label",2),s.yc(9),s.Sb(),s.Ob(10,"input",3),s.xc(11,L,2,1,"mat-error",4),s.Sb(),s.Sb(),s.Tb(12,"p"),s.Tb(13,"mat-form-field"),s.Tb(14,"mat-label",5),s.yc(15),s.Sb(),s.Ob(16,"input",6),s.xc(17,S,2,1,"mat-error",4),s.Sb(),s.Sb(),s.Tb(18,"p"),s.xc(19,v,2,1,"mat-error",4),s.Sb(),s.Tb(20,"p"),s.Tb(21,"button",7),s.xc(22,h,1,0,"mat-progress-bar",8),s.yc(23),s.Sb(),s.Tb(24,"a",9),s.yc(25),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.Bb(4),s.zc(r.loginService.loginModel$.getValue().Locale_Login),s.Bb(1),s.jc("formGroup",r.loginForm),s.Bb(4),s.Ac("",r.loginService.loginModel$.getValue().Locale_LoginEmail," "),s.Bb(1),s.jc("ngClass",s.mc(14,w,r.userService.userModel$.getValue().Working&&r.f.LoginEmail.errors)),s.Bb(1),s.jc("ngIf",r.userService.userModel$.getValue().Working&&r.f.LoginEmail.errors),s.Bb(4),s.zc(r.loginService.loginModel$.getValue().Locale_Password),s.Bb(1),s.jc("ngClass",s.mc(16,w,r.userService.userModel$.getValue().Working&&r.f.Password.errors)),s.Bb(1),s.jc("ngIf",r.userService.userModel$.getValue().Working&&r.f.Password.errors),s.Bb(2),s.jc("ngIf",r.userService.userModel$.getValue().Error),s.Bb(2),s.jc("disabled",r.userService.userModel$.getValue().Working),s.Bb(1),s.jc("ngIf",r.userService.userModel$.getValue().Working),s.Bb(1),s.Ac(" ",r.loginService.loginModel$.getValue().Locale_Login," "),s.Bb(1),s.kc("routerLink","/",r.loginService.loginModel$.getValue().Language,"/register"),s.Bb(1),s.zc(r.loginService.loginModel$.getValue().Locale_Register))},directives:[u.a,u.c,t.q,t.l,t.f,g.c,g.f,b.b,t.c,t.k,t.e,o.j,o.l,d.b,d.a,n.d,g.b,m.a],styles:[".loginCard[_ngcontent-%COMP%]{margin:20px;text-align:center;vertical-align:middle;min-width:300px;max-width:500px}"],changeDetection:0}),e})()}];let $=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(r){return new(r||e)},imports:[[n.e.forChild(M)],n.e]}),e})();var B=i("B+Mi");let T=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(r){return new(r||e)},imports:[[o.c,n.e,$,t.o,B.a]]}),e})()}}]);